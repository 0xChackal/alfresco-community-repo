<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>

<beans>

    <bean id="hbDataSenderService" class="org.alfresco.heartbeat.datasender.internal.HBDataSenderServiceImpl">
    </bean>

    <!-- HeartBeat data collector service -->
    <bean id="hbDataCollectorService" class="org.alfresco.heartbeat.HBDataCollectorServiceImpl">
        <property name="hbDataSenderService" ref="hbDataSenderService" />
    </bean>

    <!-- HeartBeat abstract data collector -->
    <bean id="hbBaseDataCollector" class="org.alfresco.heartbeat.HBBaseDataCollector" abstract="true">
        <property name="hbDataCollectorService" ref="hbDataCollectorService"/>
    </bean>

    <!-- HeartBeat community data collector -->
    <bean id="hbCommunityDataCollector" class="org.alfresco.heartbeat.CommunityHBDataCollector" parent="hbBaseDataCollector" init-method="register">
        <property name="currentRepoDescriptorDAO" ref="currentRepoDescriptorDAO"/>
        <property name="serverDescriptorDAO" ref="serverDescriptorDAO"/>
        <property name="authorityService" ref="authorityService"/>
        <property name="repoUsageComponent" ref="repoUsageComponent"/>
        <property name="transactionService" ref="transactionService"/>
        <property name="customModelService" ref="customModelService"/>
    </bean>

</beans>
