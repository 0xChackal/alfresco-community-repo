<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING/DTD BEAN//EN"
	"http://www.springframework.org/dtd/spring-beans.dtd">
<beans>
	<bean id="hibernateHelper" class="org.alfresco.repo.avm.hibernate.HibernateHelper"
	      destroy-method="shutdown">
	</bean>
	<bean id="orphanReaper" class="org.alfresco.repo.avm.OrphanReaper"
		init-method="init" destroy-method="shutDown" depends-on="avmService">
		<property name="inactiveBaseSleep">
			<value>30000</value>
		</property>
		<property name="activeBaseSleep">
			<value>1000</value>
		</property>
		<property name="batchSize">
		    <value>50</value>
		</property>
		<property name="hibernateHelper">
			<ref bean="hibernateHelper"/>
		</property>
	</bean>
	<bean id="bulkLoader" class="org.alfresco.repo.avm.util.BulkLoader">
		<property name="avmService">
			<ref bean="avmService"/>
		</property>
	</bean>
	<bean id="avmService" class="org.alfresco.repo.avm.AVMServiceImpl"
		init-method="init">
		<property name="storage">
			<value>build/test-results/storage</value>
		</property>
		<property name="createTables">
			<value>false</value>
		</property>
		<property name="hibernateHelper">
			<ref bean="hibernateHelper"/>
		</property>
	</bean>
	<bean id="interactiveConsole" class="org.alfresco.repo.avm.AVMInterpreter">
		<property name="avmService">
			<ref bean="avmService"/>
		</property>
		<property name="bulkLoader">
			<ref bean="bulkLoader"/>
		</property>
	</bean>
</beans>